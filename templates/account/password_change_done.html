{% extends "account/base.html" %}
{% load i18n %}

{# ► Mot de passe mis à jour — réutilisable pour reset/change #}

{% block title %}{% trans "Mot de passe mis à jour —  BAMU WELLBEING Foundation" %}{% endblock %}
{% block auth_width %}max-w-lg{% endblock %}

{% block auth_heading %}
  <h1 id="page-title" class="text-3xl sm:text-4xl font-extrabold tracking-tight text-green-600 dark:text-green-400 text-center">
    {% trans "Mot de passe mis à jour" %}
  </h1>
  <p class="mt-2 text-sm text-slate-600 dark:text-slate-300/80 text-center">
    {% trans "Votre mot de passe a été modifié avec succès." %}
  </p>
{% endblock %}

{% block account_content %}
  <section class="rounded-2xl border border-slate-200/70 dark:border-white/10 bg-white/80 dark:bg-white/10 p-6 shadow">
    <div class="flex items-start gap-4">
      <div class="shrink-0 rounded-full p-2 bg-green-600 text-white">
        <svg class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M9 12.75 7.5 11.25 6 12.75 9 15.75 18 6.75 16.5 5.25 9 12.75Z"/>
        </svg>
      </div>

      <div class="grow">
        <p class="text-sm text-slate-700 dark:text-slate-200" aria-live="polite">
          {% trans "Vous pouvez désormais utiliser votre nouveau mot de passe." %}
        </p>

        <div class="mt-5 flex flex-col sm:flex-row gap-2">
          <a href="{% url 'core:accueil' %}"
             class="inline-flex justify-center rounded-xl bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white shadow hover:bg-blue-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-600/60">
            {% trans "Aller à l’accueil" %}
          </a>

          {% if not user.is_authenticated %}
            <a href="{% url 'account_login' %}"
               class="inline-flex justify-center rounded-xl border border-slate-300 bg-white px-4 py-2.5 text-sm font-medium text-slate-800 hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-600/60 dark:bg-white/10 dark:text-slate-100 dark:border-white/10">
              {% trans "Se connecter" %}
            </a>
          {% else %}
            <a href="{% url 'account_email' %}"
               class="inline-flex justify-center rounded-xl border border-slate-300 bg-white px-4 py-2.5 text-sm font-medium text-slate-800 hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-600/60 dark:bg-white/10 dark:text-slate-100 dark:border-white/10">
              {% trans "Gérer mes paramètres" %}
            </a>
          {% endif %}
        </div>

        <p class="mt-3 text-xs text-slate-500 dark:text-slate-400">
          {% trans "Astuce : pensez à vous déconnecter sur les autres appareils si nécessaire." %}
        </p>
      </div>
    </div>
  </section>

  <div class="mt-6 text-center">
    <a href="{% url 'core:accueil' %}" class="text-sm font-medium text-blue-700 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-200">
      ← {% trans "Retour à l’accueil public" %}
    </a>
  </div>
{% endblock %}
